name: "üß± SQL Change"
description: Cambio en SQL (SPs, tablas, √≠ndices, data-fix)
labels: ["sql"]
body:
  - type: input
    id: title
    attributes:
      label: T√≠tulo breve
      placeholder: "Agregar prInsertarCliente y constraints √∫nicos"
    validations:
      required: true

  - type: textarea
    id: reason
    attributes:
      label: Motivo
      description: ¬øQu√© problema resuelve / mejora?
      placeholder: "Evitar duplicados de c√©dula; alta de clientes desde la app‚Ä¶"
    validations:
      required: true

  - type: textarea
    id: scope
    attributes:
      label: Alcance (Incluye / No incluye)
      placeholder: |
        Incluye:
        - Nuevo SP prInsertarCliente
        - √çndice √∫nico UX_Clientes_Cedula
        No incluye:
        - Reportes
        - Cambios en UI
    validations:
      required: true

  - type: textarea
    id: script
    attributes:
      label: Scripts involucrados
      description: Archivos en /db_scripts y orden de ejecuci√≥n
      placeholder: |
        - 11_Clientes_CRUD-mejorado.sql (nuevo)
        - 08_TablasDelAplicativo-mejorado.sql (ajuste √≠ndice)
        Orden: 08 ‚Üí 11
    validations:
      required: true

  - type: textarea
    id: tests
    attributes:
      label: Pruebas SQL (comentadas en el script)
      placeholder: "Ejemplos de INSERT/UPDATE/SELECT/ROLLBACK‚Ä¶"
    validations:
      required: true

  - type: checkboxes
    id: compat
    attributes:
      label: Compatibilidad
      options:
        - label: Backward-compatible (no rompe clientes existentes)
        - label: Requiere data-migration
        - label: Requiere cambios en C#

  - type: textarea
    id: rollback
    attributes:
      label: Rollback
      placeholder: "C√≥mo revertir: script de undo o revert PR‚Ä¶"

  - type: checkboxes
    id: docs
    attributes:
      label: Documentaci√≥n
      options:
        - label: README / CHANGELOG actualizados si aplica
        - label: Comentarios a√±adidos en el script (cabecera, pruebas)